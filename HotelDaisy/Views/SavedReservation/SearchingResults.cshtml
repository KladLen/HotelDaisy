@using HotelDaisy.Models.ViewModels;
@model List<ReservationWithUserFullName>
@{
    ViewData["Title"] = "Results";
}

<h1 class="display-5 pb-4">Searching Results</h1>

<table class="table table-border">
    <tr>
        <th>
            Reservation ID
        </th>
        <th>
            Time
        </th>
        <th>
            Apartment Number
        </th>
        <th>
            Client name
        </th>
        <th>
        </th>
    </tr>
    @foreach (var item in Model)
    {
        <tr>
            <td>
                @item.Id
            </td>
            <td>
                @DateOnly.FromDateTime(item.StartDate) - @DateOnly.FromDateTime(item.EndDate)
            </td>
            <td>
                Apartment @item.ApartmentId
            </td>
            <td>
                @item.FirstName @item.LastName
            </td>
            <td>
                <a class="btn btn-danger" href="@Url.Action("Delete", new { reservationId = item.Id })">
                    <i class="bi bi-trash3 me-2"></i>Delete
                </a>
            </td>
        </tr>
    }
</table>

<a asp-controller="SavedReservation" asp-action="Search" class="btn btn-secondary mt-3"><i class="bi bi-search me-2"></i>Back to search</a>